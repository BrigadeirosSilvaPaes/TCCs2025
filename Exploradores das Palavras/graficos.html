<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gráficos</title>
    <link rel="stylesheet" href="graficos.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
    <header>
        <div class="header-content">
            <div class="logo-title">
                <div class="logo">
                    <svg viewBox="0 0 100 100" class="logo-icon">
                        <circle cx="50" cy="50" r="45" fill="#667eea"/>
                        <path d="M35 40 L50 25 L65 40 L60 60 L40 60 Z" fill="white"/>
                        <circle cx="50" cy="45" r="8" fill="#667eea"/>
                        <path d="M45 55 L50 65 L55 55" stroke="white" stroke-width="3" fill="none"/>
                    </svg>
                </div>
                <div class="title-group">
                    <h1>Exploradores</h1>
                    <p class="subtitle">Gráficos de Aprendizado</p>
                </div>
            </div>
        </div>
        </header>
        
        <div class="filter-section">
            <div class="filter-group">
                <label for="selectTurma">Ano:</label>
                <select id="selectTurma">
                    <option value="1">1º Ano - Exploradores</option>
                    <option value="2">2º Ano - Aventureiros</option>
                    <option value="3">3º Ano - Descobridores</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="selectAtividade">Atividade:</label>
                <select id="selectAtividade">
                    <option value="">Todas as Atividades</option>
                </select>
            </div>
            
            <button id="applyFilter" class="btn-primary">
                <svg class="btn-icon" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/>
                </svg>
                Aplicar Filtro
            </button>
        </div>
        
        <div id="errorMessage" class="error" style="display: none;"></div>
        
        <div id="loading" class="loading" style="display: none;">
            <div class="spinner"></div>
            Carregando dados...
        </div>
        
        <div id="dashboard" class="dashboard" style="display: none;">
            <!-- Cards de Estatísticas -->
         <div class="stats-cards">
            <div class="stat-card">
                <div class="stat-icon">
                    <svg viewBox="0 0 24 24">
                        <path fill="currentColor" d="M16 4C16 2.9 16.9 2 18 2S20 2.9 20 4 19.1 6 18 6 16 5.1 16 4M20 22V16H22.5L20 8.4C19.7 7.6 19 7 18.1 7H18C17.1 7 16.4 7.6 16.1 8.4L13.5 16H14V22H20M12.5 11C12.5 10.2 13.2 9.5 14 9.5S15.5 10.2 15.5 11 14.8 12.5 14 12.5 12.5 11.8 12.5 11M5.5 6C6.3 6 7 6.7 7 7.5S6.3 9 5.5 9 4 8.3 4 7.5 4.7 6 5.5 6M7.5 11C8.3 11 9 11.7 9 12.5S8.3 14 7.5 14 6 13.3 6 12.5 6.7 11 7.5 11M4 22V16H6V22H4M9 22V16C9 14.9 9.9 14 11 14H14C15.1 14 16 14.9 16 16V22H9Z"/>
                    </svg>
                  </div>
                <div class="stat-info">
                    <div class="stat-label">Total de Alunos</div>
                    <div class="stat-value" id="totalAlunos">0</div>
                </div>
            </div>
                
            <div class="stat-card">
                <div class="stat-icon">
                    <svg viewBox="0 0 24 24">
                        <path fill="currentColor" d="M12 3L1 9L12 15L21 10.09V17H23V9M5 13.18V17.18C5 17.18 8 16 8 17C8 18 5 17.18 5 17.18V20.18C5 20.18 10 19 10 20C10 21 5 20.18 5 20.18V23H19V13.18L12 17L5 13.18Z"/>
                    </svg>
                  </div>
                <div class="stat-info">
                    <div class="stat-label">Atividades Realizadas</div>
                    <div class="stat-value" id="totalAtividades">0</div>
              </div>
            </div>
                
            <div class="stat-card acertos">
                <div class="stat-icon">
                    <svg viewBox="0 0 24 24">
                        <path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"/>
                    </svg>
                  </div>
                <div class="stat-info">
                    <div class="stat-label">Taxa de Acertos</div>
                    <div class="stat-value" id="taxaAcertos">0%</div>
                </div>
            </div>
                
        <div class="stat-card erros">
            <div class="stat-icon">
                <svg viewBox="0 0 24 24">
                <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
                </svg>
            </div>
                <div class="stat-info">
                    <div class="stat-label">Taxa de Erros</div>
                    <div class="stat-value" id="taxaErros">0%</div>
              </div>
            </div>
         </div>
            
            <!-- Gráficos -->
        <div class="charts-grid">
            <div class="chart-container">
                <h3>
                    <svg class="chart-icon" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M22,21H2V3H4V19H6V10H10V19H12V6H16V19H18V14H22V21Z"/>
                    </svg>
                    Desempenho por Atividade
                </h3>
                <canvas id="chartDesempenhoAtividades"></canvas>
            </div>
                
            <div class="chart-container">
                <h3>
                    <svg class="chart-icon" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z"/>
                    </svg>
                    Comparativo de Acertos vs Erros
                </h3>
                <canvas id="chartAcertosErros"></canvas>
             </div>
                
            <div class="chart-container full-width">
                <h3>
                    <svg class="chart-icon" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M16.5,3C13.6,3 12,5.1 12,5.1C12,5.1 10.4,3 7.5,3C4.4,3 2,5.4 2,8.5C2,12.3 5.4,15.4 10.6,20L12,21.3L13.4,20C18.6,15.4 22,12.3 22,8.5C22,5.4 19.6,3 16.5,3M12,18.7C7.2,14.5 4,11.4 4,8.5C4,6.5 5.5,5 7.5,5C9,5 10.5,6 11,7H13C13.5,6.1 15,5 16.5,5C18.5,5 20,6.5 20,8.5C20,11.4 16.8,14.5 12,18.7Z"/>
                    </svg>
                    Evolução do Desempenho
                </h3>
                <canvas id="chartEvolucao"></canvas>
              </div>
                
            <div class="chart-container">
                <h3>
                    <svg class="chart-icon" viewBox="0 0 24 24">
                      <path fill="currentColor" d="M19,17H22V19H19V22H17V19H14V17H17V14H19V17M9,13.5C9,14.6 8.1,15.5 7,15.5C5.9,15.5 5,14.6 5,13.5C5,12.4 5.9,11.5 7,11.5C8.1,11.5 9,12.4 9,13.5M21,11.5C21,12.6 20.1,13.5 19,13.5C17.9,13.5 17,12.6 17,11.5C17,10.4 17.9,9.5 19,9.5C20.1,9.5 21,10.4 21,11.5M16,6V14H8V6H16M16,4H8C6.9,4 6,4.9 6,6V14C6,15.1 6.9,16 8,16H16C17.1,16 18,15.1 18,14V6C18,4.9 17.1,4 16,4Z"/>
                    </svg>
                    Ranking de Atividades
                </h3>
                <canvas id="chartRanking"></canvas>
             </div>
                
            <div class="chart-container">
                <h3>
                    <svg class="chart-icon" viewBox="0 0 24 24">
                      <path fill="currentColor" d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z"/>
                    </svg>
                    Distribuição de Desempenho
                </h3>
                <canvas id="chartDistribuicao"></canvas>
             </div>
            </div>
            
            <!-- Tabela Detalhada -->
            <div class="card">
              <h2>
                <svg class="chart-icon" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M3,13H15V11H3M3,6H21V4H3M3,18H9V16H3M19,18V10H17V18H15V10H13V18H11V10H9V18H7V10H5V18H3V20H21V18H19Z"/>
                </svg>
                Detalhamento por Atividade
              </h2>
            <div class="table-container">
            <table id="tabelaAtividades">
                 <thead>
                  <tr>
                    <th>Atividade</th>
                    <th>Alunos</th>
                    <th>Acertos</th>
                    <th>Erros</th>
                    <th>Taxa de Acerto</th>
                    <th>Desempenho</th>
                  </tr>
                </thead>
              <tbody id="corpoTabela">
            </tbody>
          </table>
        </div>
       </div>
     </div>
    </div>

    <script src="graficos.js"></script>
</body>
</html>